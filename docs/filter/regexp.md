#### 表达式全集

[常用正则大全](https://any86.github.io/any-rule/)

|     字符     |                             描述                             |
| :---------- | :---------------------------------------------------------- |
|      \       | 将下一个字符标记为一个特殊字符、或一个原义字符、或一个向后引用、或一个八进制转义符。例如，“`n`”匹配字符“`n`”。“`\n`”匹配一个换行符。串行“`\\`”匹配“`\`”而“`\(`”则匹配“`(`”。 |
|      ^       | 匹配输入字符串的开始位置。如果设置了RegExp对象的Multiline属性，^也匹配“`\n`”或“`\r`”之后的位置。 |
|      $       | 匹配输入字符串的结束位置。如果设置了RegExp对象的Multiline属性，$也匹配“`\n`”或“`\r`”之前的位置。 |
|      *       | 匹配前面的子表达式零次或多次。例如，zo*能匹配“`z`”以及“`zoo`”。*等价于{0,}。 |
|      +       | 匹配前面的子表达式一次或多次。例如，“`zo+`”能匹配“`zo`”以及“`zoo`”，但不能匹配“`z`”。+等价于{1,}。 |
|      ?       | 匹配前面的子表达式零次或一次。例如，“`do(es)?`”可以匹配“`does`”或“`does`”中的“`do`”。?等价于{0,1}。 |
|    {*n*}     | *n*是一个非负整数。匹配确定的*n*次。例如，“`o{2}`”不能匹配“`Bob`”中的“`o`”，但是能匹配“`food`”中的两个o。 |
|    {*n*,}    | *n*是一个非负整数。至少匹配*n*次。例如，“`o{2,}`”不能匹配“`Bob`”中的“`o`”，但能匹配“`foooood`”中的所有o。“`o{1,}`”等价于“`o+`”。“`o{0,}`”则等价于“`o*`”。 |
|  {*n*,*m*}   | *m*和*n*均为非负整数，其中*n*<=*m*。最少匹配*n*次且最多匹配*m*次。例如，“`o{1,3}`”将匹配“`fooooood`”中的前三个o。“`o{0,1}`”等价于“`o?`”。请注意在逗号和两个数之间不能有空格。 |
|      ?       | 当该字符紧跟在任何一个其他限制符（*,+,?，{*n*}，{*n*,}，{*n*,*m*}）后面时，匹配模式是非贪婪的。非贪婪模式尽可能少的匹配所搜索的字符串，而默认的贪婪模式则尽可能多的匹配所搜索的字符串。例如，对于字符串“`oooo`”，“`o+?`”将匹配单个“`o`”，而“`o+`”将匹配所有“`o`”。 |
|      .       | 匹配除“`\`*`n`*”之外的任何单个字符。要匹配包括“`\`*`n`*”在内的任何字符，请使用像“`(.|\n)`”的模式。 |
|  (pattern)   | 匹配pattern并获取这一匹配。所获取的匹配可以从产生的Matches集合得到，在VBScript中使用SubMatches集合，在JScript中则使用$0…$9属性。要匹配圆括号字符，请使用“`\(`”或“`\)`”。 |
| (?:pattern)  | 匹配pattern但不获取匹配结果，也就是说这是一个非获取匹配，不进行存储供以后使用。这在使用或字符“`(|)`”来组合一个模式的各个部分是很有用。例如“`industr(?:y|ies)`”就是一个比“`industry|industries`”更简略的表达式。 |
| (?=pattern)  | 正向肯定预查，在任何匹配pattern的字符串开始处匹配查找字符串。这是一个非获取匹配，也就是说，该匹配不需要获取供以后使用。例如，“`Windows(?=95|98|NT|2000)`”能匹配“`Windows2000`”中的“`Windows`”，但不能匹配“`Windows3.1`”中的“`Windows`”。预查不消耗字符，也就是说，在一个匹配发生后，在最后一次匹配之后立即开始下一次匹配的搜索，而不是从包含预查的字符之后开始。 |
| (?!pattern)  | 正向否定预查，在任何不匹配pattern的字符串开始处匹配查找字符串。这是一个非获取匹配，也就是说，该匹配不需要获取供以后使用。例如“`Windows(?!95|98|NT|2000)`”能匹配“`Windows3.1`”中的“`Windows`”，但不能匹配“`Windows2000`”中的“`Windows`”。预查不消耗字符，也就是说，在一个匹配发生后，在最后一次匹配之后立即开始下一次匹配的搜索，而不是从包含预查的字符之后开始 |
| (?<=pattern) | 反向肯定预查，与正向肯定预查类拟，只是方向相反。例如，“`(?<=95|98|NT|2000)Windows`”能匹配“`2000Windows`”中的“`Windows`”，但不能匹配“`3.1Windows`”中的“`Windows`”。 |
| (?<!pattern) | 反向否定预查，与正向否定预查类拟，只是方向相反。例如“`(?<!95|98|NT|2000)Windows`”能匹配“`3.1Windows`”中的“`Windows`”，但不能匹配“`2000Windows`”中的“`Windows`”。 |
|     x\|y     | 匹配x或y。例如，“`z|food`”能匹配“`z`”或“`food`”。“`(z|f)ood`”则匹配“`zood`”或“`food`”。 |
|    [xyz]     | 字符集合。匹配所包含的任意一个字符。例如，“`[abc]`”可以匹配“`plain`”中的“`a`”。 |
|    [^xyz]    | 负值字符集合。匹配未包含的任意字符。例如，“`[^abc]`”可以匹配“`plain`”中的“`p`”。 |
|    [a-z]     | 字符范围。匹配指定范围内的任意字符。例如，“`[a-z]`”可以匹配“`a`”到“`z`”范围内的任意小写字母字符。 |
|    [^a-z]    | 负值字符范围。匹配任何不在指定范围内的任意字符。例如，“`[^a-z]`”可以匹配任何不在“`a`”到“`z`”范围内的任意字符。 |
|      \b      | 匹配一个单词边界，也就是指单词和空格间的位置。例如，“`er\b`”可以匹配“`never`”中的“`er`”，但不能匹配“`verb`”中的“`er`”。 |
|      \B      | 匹配非单词边界。“`er\B`”能匹配“`verb`”中的“`er`”，但不能匹配“`never`”中的“`er`”。 |
|     \cx      | 匹配由x指明的控制字符。例如，\cM匹配一个Control-M或回车符。x的值必须为A-Z或a-z之一。否则，将c视为一个原义的“`c`”字符。 |
|      \d      |               匹配一个数字字符。等价于[0-9]。                |
|      \D      |              匹配一个非数字字符。等价于[^0-9]。              |
|      \f      |              匹配一个换页符。等价于\x0c和\cL。               |
|      \n      |              匹配一个换行符。等价于\x0a和\cJ。               |
|      \r      |              匹配一个回车符。等价于\x0d和\cM。               |
|      \s      | 匹配任何空白字符，包括空格、制表符、换页符等等。等价于[ \f\n\r\t\v]。 |
|      \S      |          匹配任何非空白字符。等价于[^ \f\n\r\t\v]。          |
|      \t      |匹配一个制表符。等价于\x09和\cI。               |
|      \v      |            匹配一个垂直制表符。等价于\x0b和\cK。             |
|      \w      |    匹配包括下划线的任何单词字符。等价于“`[A-Za-z0-9_]`”。    |
|      \W      |        匹配任何非单词字符。等价于“`[^A-Za-z0-9_]`”。         |
|    \x*n*     | 匹配*n*，其中*n*为十六进制转义值。十六进制转义值必须为确定的两个数字长。例如，“`\x41`”匹配“`A`”。“`\x041`”则等价于“`\x04&1`”。正则表达式中可以使用ASCII编码。. |
|    \*num*    | 匹配*num*，其中*num*是一个正整数。对所获取的匹配的引用。例如，“`(.)\1`”匹配两个连续的相同字符。 |
|     \*n*     | 标识一个八进制转义值或一个向后引用。如果\*n*之前至少*n*个获取的子表达式，则*n*为向后引用。否则，如果*n*为八进制数字（0-7），则*n*为一个八进制转义值。 |
|    \*nm*     | 标识一个八进制转义值或一个向后引用。如果\*nm*之前至少有*nm*个获得子表达式，则*nm*为向后引用。如果\*nm*之前至少有*n*个获取，则*n*为一个后跟文字*m*的向后引用。如果前面的条件都不满足，若*n*和*m*均为八进制数字（0-7），则\*nm*将匹配八进制转义值*nm*。 |
|    \*nml*    | 如果*n*为八进制数字（0-3），且*m和l*均为八进制数字（0-7），则匹配八进制转义值*nm*l。 |
|    \u*n*     | 匹配*n*，其中*n*是一个用四个十六进制数字表示的Unicode字符。例如，\u00A9匹配版权符号（©）。 |

#### 常用正则表达式

##### 一、校验数字的表达式

|   序号   | 表达式    | 含义               |
| ---- | --------- | ------------------ |
| 1    | **^[0-9]*$** | 数字               |
| 2    | **^\d{n}$** | n位的数字          |
| 3    | **^\d{n,}$** | 至少n位的数字      |
| 4    | **^\d{m,n}$** | m-n位的数字        |
| 5    | **^(0\|\[1-9\]\[0-9\]*)$**      | 零和非零开头的数字 |
| 6    | **^(\[1-9\]\[0-9\]*)+(.\[0-9\]{1,2})?$** | 非零开头的最多带两位小数的数字 |
| 7    | **^(\\-)?\d+(\.\d{1,2})?$** | 带1-2位小数的正数或负数 |
| 8    | **^(\-\|\+)?\d+(\\.\d+)?$**     | 正数、负数、和小数 |
| 9    | **^\[0-9\]+(.\[0-9\]{2})?$** | 有两位小数的正实数 |
| 10   | **^\[0-9\]+(.\[0-9\]{1,3})?$** | 有1~3位小数的正实数 |
| 11   | **^\[1-9\]\d\*$ 或  ^(\[1-9\]\[0-9\]\*){1,3}$ 或 ^\\+?\[1-9\]\[0-9\]*$** | 非零的正整数 |
| 12   | **^\\-\[1-9\]\[\]0-9"\*$ 或 ^-[1-9]\d*$** | 非零的负整数 |
| 13   | **^\d+$ 或 ^[1-9]\d*\|0$** | 非负整数 |
| 14   |  **^-[1-9]\d*\|0$ 或 ^((-\d+)\|(0+))$**     | 非正整数 |
| 15   | **^\d+(\\.\d+)?$ 或 ^[1-9]\d\*\\.\d\*\|0\\.\d*[1-9]\d\*\|0?\\.0+\|0$** | 非负浮点数 |
| 16   |  **^((-\d+(\\.\d+)?)\|(0+(\\.0+)?))$ 或 ^(-([1-9]\d\*\\.\d\*\|0\\.\d\*[1-9]\d*))\|0?\\.0+\|0$**  | **非正浮点数** |
| **17** | **^\[1-9]\d\*\\.\d\*\|0\\.\**d\*\[1-9]\d\*$ 或 ^((\[0-9\]+\\.[0-9]\*\[1-9][0-9]*)\|(\[0-9\]\*\[1-9\]\[0-9\]\*\\.[0-9]+)\|([0-9]\*[1-9]\[0-9]\*))$** | 正浮点数 |
| 18   |  **^-(\[1-9]\d\*\\.\d\*\|0\\.\d\*\[1-9]\d\*)$ 或 ^(-((\[0-9]+\\.[0-9]\*\[1-9]\[0-9]\*)\|(\[0-9]\*\[1-9]\[0-9]\*\\.[0-9]+)\|(\[0-9]\*\[1-9][0-9]*)))$**  | 负浮点数 |
| 19   |  **^(-?\d+)(\\.\d+)?$ 或 ^-?([1-9]\d\*\\.\d\*\|0\\.\d\*[1-9]\d*\|0?\\.0+\|0)$**  | 浮点数 |

##### 二、校验字符的表达式

| 序号 | 表达式                                                       | 含义                                       |
| ---- | ------------------------------------------------------------ | ------------------------------------------ |
| 1    | **^[\u4e00-\u9fa5]{0,}$**                                    | 汉字                                       |
| 2    | **^[A-Za-z0-9]+$** 或 **^[A-Za-z0-9]{4,40}$**                | 英文和数字                                 |
| 3    | **^.{3,20}$**                                                | 长度为3-20的所有字符                       |
| 4    | **^[A-Za-z]+$**                                              | 由26个英文字母组成的字符串                 |
| 5    | **^[A-Z]+$**                                                 | 由26个大写英文字母组成的字符串             |
| 6    | **^[a-z]+$**                                                 | 由26个小写英文字母组成的字符串串           |
| 7    | **^[A-Za-z0-9]+$**                                           | 由数字和26个英文字母组成的字符串           |
| 8    | **^\w+$**  或  **^\w{3,20}$**                                | 由数字、26个英文字母或者下划线组成的字符串 |
| 9    | **^[\u4E00-\u9FA5A-Za-z0-9_]+$**                             | 中文、英文、数字包括下划线                 |
| 10   | **^[\u4E00-\u9FA5A-Za-z0-9]+$**  或  **^[\u4E00-\u9FA5A-Za-z0-9]{2,20}$** | 中文、英文、数字但不包括下划线等符号       |
| 11   | **[^%&',;=?$\x22]+**                                         | 以输入含有^%&',;=?$\"等字符                |
| 12   | **[^~\x22]+**                                                | 禁止输入含有~的字符                        |

##### 三、特殊需求表达式

| 序号 | 表达式                                                       | 含义                        |
| ---- | ------------------------------------------------------------ | --------------------------- |
| 1    | **^\w+([-+.]\w+)\*@\w+([-.]\w+)\*\\.\w+([-.]\w+)*$**         | Email地址                   |
| **2** | **\[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(/.\[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+/.?** | 域名                        |
| 3    | **[a-zA-z]+://\[^\s]***  或  **^http://([\w-]+\\.)+[\w-]+(/[\w-./?%&=]*)?$** | InternetURL                 |
| 4    | **^(13[0-9]\|14[0-9]\|15[0-9]\|166\|17[0-9]\|18[0-9]\|19[8\|9])\d{8}$** | 手机号码                    |
| 5    | **^(\\(\d{3,4}-)\|\d{3.4}-)?\d{7,8}$**                       |电话号码;("XXX-XXXXXXX"、"XXXX-XXXXXXXX"、"XXX-XXXXXXX"、"XXX-XXXXXXXX"、"XXXXXXX"和"XXXXXXXX) |
| 6    | **\d{3}-\d{8}\|\d{4}-\d{7}** | 国内电话号码(0511-4405222、021-87888822) |
| 7    |   **^((\d{18})\|([0-9x]{18})\|([0-9X]{18}))$**                                                       | 18位身份证号码(数字、字母x结尾) |
| 8    | **^\[a-zA-Z][a-zA-Z0-9_]{4,15}$** | 帐号是否合法(字母开头，允许5-16字节，允许字母数字下划线) |
| 9    | **^[a-zA-Z]\w{5,17}$** | 密码 |
| 10   | **^(?=.\*\d)(?=.\*[a-z])(?=.*[A-Z]).{8,10}$** | 强密码(必须包含大小写字母和数字的组合，不能使用特殊字符，长度在8-10之间) |
| 11   | **^\d{4}-\d{1,2}-\d{1,2}** | 日期格式 |
| 12   |   **^(0?[1-9]\|1[0-2])$**                                                       | 一年的12个月(01～09和1～12) |
| 13   |   **^((0?[1-9])\|((1\|2)[0-9])\|30\|31)$**                                                       | 一个月的31天(01～09和1～31) |
| 14   |  **^([a-zA-Z]+-?)+[a-zA-Z0-9]+\\\\.\[x\|X]\[m\|M][l\|L]$**  | xml文件 |
| 15   | **[\u4e00-\u9fa5]** | 中文字符的正则表达式 |
| 16   | **[^\x00-\xff]** | 双字节字符(包括汉字在内，可以用来计算字符串的长度(一个双字节字符长度计2，ASCII字符计1)) |
| 17   | **\n\s*\r** | 空白行的正则表达式(可以用来删除空白行) |
| 18   | **<(\S*?)\[^>]*>.\*?</\1>\|<.*?/>**  | HTML标记的正则表达式网上流传的版本太糟糕，上面这个也仅仅能部分，对于复杂的嵌套标记依旧无能为力) |
| 19   | **^\s\*\|\s\*$** 或 **(^\s\*)\|(\s*$)** | 首尾空白字符的正则表达式 |
| 20 | **\[1-9][0-9]{4,}** | 腾讯QQ号(腾讯QQ号从10000开始) |
| 21 | **[1-9]\d{5}(?!\d)** | 中国邮政编码(中国邮政编码为6位数字) |
| 22   | **\d+\\.\d+\.\d+\\.\d+** 或 **((?:(?:25[0-5]\|2[0-4]\\\d\|[01]?\\\d?\\\d)\\\\.){3}(?:25[0-5]\|2[0-4]\\\d\|[01]?\\\d?\\\d))** | IP地址(提取IP地址时有用) |

#### 过滤器JavaScript使用示例

```javascript
var tmp_data = input[0].text;
var reg = new RegExp("http://17.{1,128}.pdf");
//如果匹配到则
if(reg.test(input[0].text)){
	var tmp_url = reg.exec(input[0].text);
	next.setProperty("tmp_url", tmp_url);
	var tmp_data = input[0].text.replace(reg, 'url因为有特殊字符而被替换');
	}
var data = "<xml><![CDATA["+ tmp_data +"]]></xml>";
next.setText(data ,"utf-8");
```

